# 学习笔记

## 10.1 模块作为构件

* 典型的真实程序是逐渐成长的，理想的程序具有水晶般清晰的解构
* 模块是一个程序，它指定它依赖的其他部分以及它为其他模块提供的功能（接口）
* 模块接口与对象接口有许多共通之处，构成了外部世界可用的一部分，并将其余部分保密
* 通过限制模块相互作用的方式，系统变得更像乐高积木。其中各个部分通过定义良好的连接器进行交互（而不像泥浆，一切都与所有东西混合）
* 模块之间的关系成为依赖关系，当模块需要来自另一个模块的部件时，就说它依赖于此模块
* 将JavaScript代码放入不同的文件未必满足分离的要求，这些文件仍然共享相同的全局命名空间，它们可能有意无意地干扰彼此的约束

## 10.2 包

* 软件包是可以分发（复制和安装）的一大块代码，它可能包含一个或多个模块
* 如果程序包中发现问题或添加了新功能，则会更新程序包
* 使用其他人的包时，请确保了解他们的许可证

## 10.3 简易模块

* 2015年前，JavaScript语言还没有内置模块系统，可以使用JavaScript函数创建局部作用域和对象来表示模块接口

## 10.4 将数据作为代码执行

* 有几种方法都可以获取数据（一串代码）并将其作为当前程序的一部分运行：
  * 方法一：eval，它将在当前作用域中执行一个字符串，这通常是一个坏方法
  * 方法二：将数据解释为代码的不那么危险的方法是使用Function构造函数，它有两个参数：
    * 一个包含以逗号分隔的参数名列表的字符串
    * 一个包含函数体的字符串
    * 这个方法包装着函数值中的代码，以便它获得自己的作用域，并且不会对其他作用域做奇怪的事情
    * 这正是我们需要的模块系统。将模块的代码包装在一个函数中，并把此函数的作用域用作模块作用域

## 10.5 CommonJS

* 最常用的连接JavaScript模块的方法称为CommonJS模块
* CommandJS模块的主要概念是一个名为require的函数，当使用依赖项的模块名调用它时，它会确保加载模块并返回其接口
* 加载器将模块代码包装在一个函数中，模块会自动获得它们自己的局部作用域
* 需要做的是：调用require来访问依赖项，将接口绑定到exports的对象中

## 10.6 ECMAScript模块

## 10.7 构件和捆绑

## 10.8 模块设计

